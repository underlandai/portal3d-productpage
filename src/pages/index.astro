---
import Layout from '~/layouts/PageLayout.astro';
import Image from '~/components/common/Image.astro';

import Hero from '~/components/widgets/Hero.astro';
import Features from '~/components/widgets/Features.astro';
import Steps from '~/components/widgets/Steps.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

import modelDemoImage from '~/assets/images/model-demo.png';
import geoModelImage from '~/assets/images/rendered_geo_model_crop.tiff';

const metadata = {
  title: 'Lichen — Compute Commodities',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'Contact us',
        href: '/contact',
        icon: 'tabler:mail',
      },
      { text: 'Learn More', href: '#features' },
    ]}
    image={{
      src: geoModelImage,
      alt: 'Geological model visualization',
      height: 700
    }}
  >
    <Fragment slot="title">
      <div class="flex flex-col items-center mb-4 group">
        <a href="/contact" rel="noopener">
          <Image 
            id="coresync-logo"
            src="~/assets/images/coresync-circlev1-transparent.svg" 
            alt="CoreSync Logo" 
            class="w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 mb-2 sm:mb-4 cursor-pointer" 
            width={192}
            height={192}
          />
        </a>

        <script>
          // Get the logo element
          const logo = document.getElementById('coresync-logo');
          
          // Add initial spin animation on page load
          window.addEventListener('DOMContentLoaded', () => {
            // Add the one-time spin animation
            logo.classList.add('animate-spin-once');
            
            // Remove the class after animation completes to avoid conflicts with hover animation
            setTimeout(() => {
              logo.classList.remove('animate-spin-once');
            }, 2000); // Same duration as the animation
          });
          
          // Add the animation class when mouse enters
          logo.addEventListener('mouseenter', () => {
            // Only add if the initial animation is complete
            if (!logo.classList.contains('animate-spin-once')) {
              logo.classList.add('animate-spin-slow');
            }
          });
          
          // Remove the animation class when mouse leaves
          logo.addEventListener('mouseleave', () => {
            // We don't remove the class immediately to let the animation finish
            // Instead, we listen for the end of the current animation cycle
            logo.addEventListener('animationiteration', () => {
              logo.classList.remove('animate-spin-slow');
            }, {once: true});
          });
        </script>
        <span class="text-black dark:text-white highlight font-quantify tracking-wide text-5xl sm:text-7xl md:text-8xl leading-tight">CoreSync</span>
      </div>
    </Fragment>

    <Fragment slot="subtitle">
      Commodity Resource Synchronisation: Visualisation and Computation on the Cloud
    </Fragment>
  </Hero>


  <!-- Features Widget *************** -->

  <Features
    id="features"
    tagline="Resource Intelligence Platform"
    title="Collaborate in 3D, not in screenshots"
    subtitle="Securely and quickly share resource models with stakeholders on the web"
    items={[
      {
        title: 'Interactive 3D Viewing',
        description: 'Explore resource projects directly in your browser – no software needed.',
        icon: 'tabler:chart-dots-3',
      },
      {
        title: 'Fast & Easy Sharing',
        description: 'Share data and models instantly with a secure link.',
        icon: 'tabler:share',
      },
      {
        title: 'Broad Compatibility',
        description: 'Works with your existing resource modelling software.',
        icon: 'tabler:transfer-in',
      },
      {
        title: 'Secure',
        description: 'Industry-standard encryption protects your data.',
        icon: 'tabler:shield-lock',
      },
      {
        title: 'Rapid Processing & Easy Upload',
        description: 'Get your models online quickly.',
        icon: 'tabler:upload',
      },
      {
        title: 'Dedicated Support',
        description: "We're here to help when needed.",
        icon: 'tabler:lifebuoy',
      },
    ]}
  />


  <!-- Steps Widget ****************** -->

  <Steps
    title="CoreSync Your Model in Three Simple Steps"
    items={[
      {
        title: 'Step 1: <span class="font-medium">Upload & Preview</span>',
        description:
          "Upload your Open Mining Format (OMF) file, fill in your project name, and instantly preview your 3D model in the browser.",
        icon: 'tabler:upload',
      },
      {
        title: 'Step 2: <span class="font-medium">Verify Ownership</span>',
        description:
          "Create a free account to verify your ownership of the model and control access.",
        icon: 'tabler:user-check',
      },
      {
        title: 'Step 3: <span class="font-medium">Share & Collaborate</span>',
        description:
          "Share your interactive 3D model with a unique URL. Collaborate effortlessly with stakeholders, anywhere in the world.",
        icon: 'tabler:world-share',
      },
      {
        title: 'Done!',
        icon: 'tabler:check',
      },
    ]}
    image={{
      src: modelDemoImage,
      alt: 'CoreSync Model Visualization'
    }}
  />


  <!-- FAQs Widget ******************* -->

  <FAQs
    title="Frequently Asked Questions"
    subtitle="Here are some common questions about CoreSync. If you can't find what you're looking for, please <a href='/contact' class='text-primary hover:underline'>contact</a> our support team"
    classes={{ container: 'max-w-6xl' }}
    items={[
      {
        title: 'Sharing & Collaboration',
        items: [
          {
            title: 'How can I share my 3D model with others?',
            description: 'On paid plans (Professional, Team, and Enterprise), CoreSync provides a unique, shareable URL once your model is processed. Anyone with this link can view your model in their web browser without needing a CoreSync account. Sharing is not available on the Free plan.',
          },
          {
            title: 'Can I collaborate with my team on projects?',
            description: 'Absolutely! Our Team and Enterprise plans include collaboration features, allowing multiple users to access and work on the same projects simultaneously.',
          },
        ],
      },
      {
        title: 'Processing & Performance',
        items: [
          {
            title: 'How long will it take for my model to be processed?',
            description: `<p>Most models are ready within a couple of hours. However, processing time can take up to 24 hours, depending on factors like:</p>
            <p>• The size and complexity of your data.<br>
            • Current demand on the CoreSync platform.</p>
            <p>We're constantly working to improve our processing speeds.</p>`,
          },
          {
            title: "I uploaded my file a while ago, and it's still processing. What should I do?",
            description: 'While most models process within a few hours, larger datasets can take longer. If your model has been processing for over 24 hours, please <a href="/contact" class="text-primary hover:underline">contact</a> our support team and we will be happy to look into it.',
          },
        ],
      },
      {
        title: 'Data Security',
        items: [
          {
            title: 'How secure is my data on CoreSync?',
            description: `Data security is our top priority. CoreSync uses industry-standard encryption (TLS 1.2 for data in transit and AES-256 for data at rest), secure Digital Ocean infrastructure, and Role-Based Access Control (RBAC) to manage user permissions. Our security team has 24/7 on-call coverage.`,
          },
          {
            title: 'Who has access to my models?',
            description: 'Only users you explicitly grant access to can view or interact with your models. You maintain full control over your data.',
          },
        ],
      },
      {
        title: 'Supported Data & File Formats',
        items: [
          {
            title: 'What types of data can I visualize from an OMF file?',
            description: `<p>CoreSync is designed to handle a wide variety of geoscience data commonly found in OMF files. This includes:</p>
            <p>• Point data<br>
            • Curve data<br>
            • Surface data<br>
            • Drillholes<br>
            • Geophysical data<br>
            • 3D models</p>
            <p>We are always working to expand our support for more data types.</p>`,
          },
          {
            title: 'Do you support any file formats besides OMF?',
            description: 'Yes! We are actively developing support for other popular formats. We plan to add support for VTK, GEOH5, GOCAD, CSV, and OBJ files in Q2, 2025.',
          },
        ],
      },
    ]}
  />



  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Contact us',
        href: '/contact',
        icon: 'tabler:mail',
      },
    ]}
  >
    <Fragment slot="title">
      Ready to learn more about CoreSync?
    </Fragment>

  </CallToAction>
</Layout>