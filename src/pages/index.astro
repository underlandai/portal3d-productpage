---
import Layout from '~/layouts/PageLayout.astro';
import Image from '~/components/common/Image.astro';

import Hero from '~/components/widgets/Hero.astro';
import Features from '~/components/widgets/Features.astro';
import Steps from '~/components/widgets/Steps.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

import modelDemoImage from '~/assets/images/model-demo.png';
import geoModelImage from '~/assets/images/rendered_geo_model_crop.tiff';

const metadata = {
  title: 'Lichen: Compute Commodities',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'Demo',
        href: 'https://coresync.dev',
        target: '_blank',
        rel: 'noopener',
        icon: 'tabler:external-link',
      },
      { text: 'Learn More', href: '#features' },
    ]}
    image={{
      src: geoModelImage,
      alt: 'Geological model visualisation',
      height: 700
    }}
  >
    <Fragment slot="title">
      <div class="flex flex-col items-center mb-4 group">
        <Image 
          id="subsurfo-logo-light"
          src="~/assets/images/subsurfo-o-logo-blk.svg" 
          alt="Subsurfo Logo" 
          class="h-16 sm:h-20 md:h-24 w-auto block dark:hidden"
          width={400}
          height={70}
        />
        <Image 
          id="subsurfo-logo-dark"
          src="~/assets/images/subsurfo-o-logo-wt.svg" 
          alt="Subsurfo Logo" 
          class="h-16 sm:h-20 md:h-24 w-auto hidden dark:block"
          width={400}
          height={70}
        />

        <script>
          const subsurfoLogoLight = document.getElementById('subsurfo-logo-light');
          const subsurfoLogoDark = document.getElementById('subsurfo-logo-dark');
          
          const addAnimationToLogo = (logo) => {
            if (logo) {
              window.addEventListener('DOMContentLoaded', () => {
                logo.classList.add('animate-pulse');
                setTimeout(() => {
                  logo.classList.remove('animate-pulse');
                }, 3000);
              });
              logo.addEventListener('mouseenter', () => {
                logo.classList.add('animate-pulse');
              });
              logo.addEventListener('mouseleave', () => {
                logo.classList.remove('animate-pulse');
              });
            }
          };
          
          addAnimationToLogo(subsurfoLogoLight);
          addAnimationToLogo(subsurfoLogoDark);
        </script>
      </div>
    </Fragment>

    
    <Fragment slot="subtitle">
      Powerful Cloud Visualisation for Subsurface Models
    </Fragment>
  </Hero>


  <Features
    id="features"
    tagline="Resource Intelligence Platform"
    title="Collaborate in 3D, not in screenshots"
    subtitle="Securely and quickly share subsurface models with stakeholders on the web"
    items={[
      {
        title: 'High-Performance Visualisation',
        description: 'Explore complex subsurface models directly in your browser. Our AWS HPC-powered backend ensures a smooth, interactive 3D experience with no software needed.',
        icon: 'tabler:device-imac-bolt',
      },
      {
        title: 'Broad Compatibility',
        description: 'Works with your existing software. Easily export OMF files from Leapfrog, Deswik, Maptek Vulcan, Micromine, GEOVIA, Geosoft, and more.',
        icon: 'tabler:transfer-in',
      },
      {
        title: 'Total Data Control',
        description: 'Your data is hosted securely on AWS, never on our servers. Enterprise clients can opt for a fully self-hosted solution for ultimate data sovereignty.',
        icon: 'tabler:shield-lock',
      },
      {
        title: 'Instant Collaboration',
        description: 'Share complex data and interactive 3D subsurface models with stakeholders instantly using a secure link.',
        icon: 'tabler:share',
      },
      {
        title: 'Global Reach, Low Latency',
        description: 'Leveraging AWS global infrastructure, we serve your models from data centers near your stakeholders, ensuring fast load times worldwide.',
        icon: 'tabler:world',
      },
      {
        title: 'Dedicated Support',
        description: "We're here to help you integrate, deploy, and scale when you need it.",
        icon: 'tabler:lifebuoy',
      },
    ]}
  />


  <Steps
    title="Subsurfo Your Subsurface Model in Three Simple Steps"
    items={[
      {
        title: 'Step 1: <span class="font-medium">Export & Upload</span>',
        description:
          "Export your Open Mining Format (OMF) file from your mining software, and upload your 3D subsurface model in the browser.",
        icon: 'tabler:upload',
      },
      {
        title: 'Step 2: <span class="font-medium">Verify Ownership</span>',
        description:
          "Create a free account to verify your ownership of the subsurface model and control access.",
        icon: 'tabler:user-check',
      },
      {
        title: 'Step 3: <span class="font-medium">Visualise & Share</span>',
        description:
          "Visualise your interactive 3D subsurface model and share with a unique URL.",
        icon: 'tabler:world-share',
      },
      {
        title: 'Done!',
        icon: 'tabler:check',
      },
    ]}
    image={{
      src: modelDemoImage,
      alt: 'Subsurfo Model Visualisation'
    }}
  />


  <FAQs
    title="Frequently Asked Questions"
    subtitle="Here are some common questions about Subsurfo. If you can't find what you're looking for, please <a href='/contact' class='text-primary hover:underline'>contact</a> our support team"
    classes={{ container: 'max-w-6xl' }}
    items={[
      {
        title: 'Data Security & Hosting',
        items: [
          {
            title: 'Where is my data stored?',
            description: `We prioritise your data sovereignty. Your data is <strong>never</strong> stored on Lichen's own servers. All data is hosted on Amazon Web Services (AWS), the world's leading cloud platform. This provides robust security, reliability, and allows your data to be stored in specific geographic regions to meet compliance needs.`,
          },
          {
            title: 'Who has access to my subsurface models?',
            description: 'You maintain full control. Only users you explicitly grant access to can view or interact with your subsurface models via secure, time-limited links and role-based access controls.',
          },
        ],
      },
      {
        title: 'Enterprise & Integration',
        items: [
          {
            title: 'Can we host our own data?',
            description: 'Yes. For organisations with strict data residency or internal governance requirements, our Enterprise plan offers a self-hosted option. You can deploy the Subsurfo visualisation platform within your own cloud environment, giving you complete control.',
          },
          {
            title: 'Do you provide an API?',
            description: "Yes, our Enterprise plan includes API access. The API allows you to programmatically upload models, manage projects, and embed the Subsurfo 3D viewer directly into your company's internal applications, websites, or data platforms.",
          },
        ],
      },
      {
        title: 'Processing & Performance',
        items: [
          {
            title: 'How long will it take for my subsurface model to be processed?',
            description: `<p>Thanks to our AWS High-Performance Computing (HPC) backend, most subsurface models are ready within a few minutes. However, processing time can occasionally take longer depending on:</p>
            <p>• The size and complexity of your data (up to 1TB).<br>
            • Current platform demand.</p>
            <p>We're constantly optimising our processing pipeline for speed.</p>`,
          },
          {
            title: 'Do you support any file formats besides OMF?',
            description: 'Yes! While OMF is our primary format, we are actively developing support for others. We plan to add support for VTK, GEOH5, GOCAD, CSV, and OBJ files. Ask and we will provide.',
          },
        ],
      },
    ]}
  />


  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Demo (≤ 50MB)',
        href: 'https://coresync.dev',
        target: '_blank',
        rel: 'noopener',
        icon: 'tabler:external-link',
      },
      {
        variant: 'secondary',
        text: 'Contact us',
        href: '/contact',
        icon: 'tabler:mail',
      },
    ]}
  >
    <Fragment slot="title">
      Ready to show your models?
    </Fragment>

  </CallToAction>
</Layout>